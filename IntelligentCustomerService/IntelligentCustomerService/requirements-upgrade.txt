# 智能客服系统升级版依赖配置
# 基于现有requirements.txt进行升级，新增AutoGen、Milvus、Neo4j等核心依赖

# ===== 保持现有核心依赖 =====
# Web框架
fastapi==0.111.0
fastapi-cli==0.0.7
uvicorn==0.34.0
starlette==0.37.2

# 数据库ORM
tortoise-orm==0.23.0
aerich==0.8.1
aiosqlite==0.20.0

# 基础依赖
pydantic==2.10.5
pydantic-core==2.27.2
pydantic-settings==2.7.1
python-dotenv==1.0.1
python-multipart==0.0.20

# 认证和安全
passlib==1.7.4
pyjwt==2.10.1
argon2-cffi==23.1.0

# HTTP客户端
httpx==0.28.1
httpcore==1.0.7

# 日志和工具
loguru==0.7.3
rich==13.9.4
typer==0.15.1

# JSON处理
orjson==3.10.14
ujson==5.10.0

# ===== 新增核心升级依赖 =====

# AutoGen智能体框架
autogen-agentchat==0.4.9.3
autogen-core==0.4.9.3
autogen-ext==0.4.9.3

# OpenAI兼容接口
openai>=1.0.0

# ===== 模型服务依赖 =====

# ModelScope模型下载和管理
modelscope>=1.9.0
transformers>=4.30.0
torch>=2.0.0
sentence-transformers>=2.2.0

# 嵌入和重排模型
numpy>=1.21.0
scipy>=1.9.0
scikit-learn>=1.1.0

# ===== 向量数据库依赖 =====

# Milvus向量数据库
pymilvus>=2.3.0
milvus-lite>=2.3.0  # 轻量级版本，用于开发测试

# 向量检索优化
faiss-cpu>=1.7.0  # Facebook AI Similarity Search
hnswlib>=0.7.0     # Hierarchical Navigable Small World

# ===== 图数据库依赖 =====

# Neo4j图数据库
neo4j>=5.0.0
py2neo>=2021.2.3

# ===== 文档解析依赖 =====

# Marker高质量文档解析
marker-pdf>=0.2.0
pymupdf>=1.23.0    # PDF处理
python-docx>=0.8.11  # Word文档处理
openpyxl>=3.1.0    # Excel处理
python-pptx>=0.6.21  # PowerPoint处理

# 图像处理
Pillow>=10.0.0
opencv-python>=4.8.0

# OCR支持
pytesseract>=0.3.10
easyocr>=1.7.0

# ===== 缓存和消息队列 =====

# Redis缓存
redis>=4.5.0
aioredis>=2.0.0

# 任务队列
celery>=5.3.0
kombu>=5.3.0

# ===== 数据库连接器 =====

# MySQL连接器
aiomysql>=0.2.0
PyMySQL>=1.1.0

# PostgreSQL连接器（备选）
asyncpg>=0.28.0
psycopg2-binary>=2.9.0

# ===== 监控和日志 =====

# 性能监控
prometheus-client>=0.17.0
psutil>=5.9.0

# 分布式追踪
opentelemetry-api>=1.20.0
opentelemetry-sdk>=1.20.0

# ===== 安全和加密 =====

# 加密库
cryptography>=41.0.0
bcrypt>=4.0.0

# JWT增强
python-jose[cryptography]>=3.3.0

# ===== 网络和通信 =====

# WebSocket支持
websockets>=14.1
python-socketio>=5.8.0

# HTTP/2支持
h2>=4.1.0

# ===== 数据处理和分析 =====

# 数据处理
pandas>=2.0.0
polars>=0.19.0  # 高性能数据处理

# 文本处理
jieba>=0.42.1   # 中文分词
nltk>=3.8.0     # 自然语言处理
spacy>=3.6.0    # 高级NLP

# ===== 配置和环境管理 =====

# 配置管理
dynaconf>=3.2.0
python-decouple>=3.8

# 环境变量
environs>=10.0.0

# ===== 测试依赖 =====

# 测试框架
pytest>=7.4.0
pytest-asyncio>=0.21.0
pytest-cov>=4.1.0
pytest-mock>=3.11.0

# HTTP测试
httpx[test]>=0.24.0
respx>=0.20.0

# ===== 开发工具 =====

# 代码格式化
black>=24.10.0
isort>=5.13.2
ruff>=0.9.1

# 类型检查
mypy>=1.5.0
types-redis>=4.6.0
types-requests>=2.31.0

# ===== 部署和运维 =====

# ASGI服务器
gunicorn>=21.2.0
uvloop>=0.21.0; sys_platform != 'win32'

# 容器化
docker>=6.1.0

# ===== 可选增强依赖 =====

# 图像生成（可选）
diffusers>=0.21.0
accelerate>=0.21.0

# 语音处理（可选）
whisper>=1.1.10
pydub>=0.25.1

# 视频处理（可选）
moviepy>=1.0.3

# ===== 兼容性依赖 =====

# Python版本兼容
typing-extensions>=4.12.2
importlib-metadata>=6.8.0

# 异步支持
anyio>=4.8.0
sniffio>=1.3.1

# 时间处理
pytz>=2024.2
python-dateutil>=2.8.2

# 序列化
msgpack>=1.0.0
pickle5>=0.0.12; python_version < '3.8'

# ===== 平台特定依赖 =====

# Windows特定
pywin32>=306; sys_platform == 'win32'
wmi>=1.5.1; sys_platform == 'win32'

# Linux特定
python-systemd>=235; sys_platform == 'linux'

# macOS特定
pyobjc>=9.2; sys_platform == 'darwin'

# ===== 版本锁定说明 =====
# 以下依赖版本已经过测试验证，建议锁定版本
setuptools==75.8.0
wheel>=0.41.0
pip>=23.0.0

# ===== 安装说明 =====
# 1. 基础安装：pip install -r requirements-upgrade.txt
# 2. 开发环境：pip install -r requirements-upgrade.txt[dev]
# 3. 生产环境：pip install -r requirements-upgrade.txt[prod]
# 4. 完整安装：pip install -r requirements-upgrade.txt[all]

# ===== 额外索引源 =====
# --extra-index-url https://pypi.tuna.tsinghua.edu.cn/simple/
# --extra-index-url https://mirrors.aliyun.com/pypi/simple/
# --extra-index-url https://pypi.douban.com/simple/
