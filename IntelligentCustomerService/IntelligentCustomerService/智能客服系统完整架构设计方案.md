# ğŸ¤– æ™ºèƒ½å®¢æœç³»ç»Ÿå®Œæ•´æ¶æ„è®¾è®¡æ–¹æ¡ˆ

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

åŸºäºç°æœ‰çš„`D:\ai-training-course\IntelligentCustomerService\IntelligentCustomerService`é¡¹ç›®è¿›è¡Œå…¨é¢æ”¹é€ å‡çº§ï¼Œæ„å»ºä¸€ä¸ªé›†æˆAutoGenæ™ºèƒ½ä½“æ¡†æ¶ã€å¤šæ¨¡æ€å¤§æ¨¡å‹ã€Milvuså‘é‡æ•°æ®åº“çš„ç°ä»£åŒ–æ™ºèƒ½å®¢æœç³»ç»Ÿã€‚

## ğŸ¯ æ”¹é€ ç›®æ ‡

### æ ¸å¿ƒå‡çº§å†…å®¹
1. **æ™ºèƒ½ä½“æ¡†æ¶å‡çº§**ï¼šé›†æˆMicrosoft AutoGenæ¡†æ¶
2. **æ¨¡å‹æœåŠ¡å‡çº§**ï¼šæ”¯æŒDeepSeek-Chat + Qwen-VL-Maxå¤šæ¨¡æ€
3. **å‘é‡æ•°æ®åº“å‡çº§**ï¼šä»ChromaDBè¿ç§»åˆ°Milvus
4. **æ–‡æ¡£è§£æå‡çº§**ï¼šé›†æˆMarkeré«˜è´¨é‡è§£ææ¡†æ¶
5. **å‰ç«¯ç•Œé¢å‡çº§**ï¼šæ‰“é€ Geminié£æ ¼ç‚«é…·èŠå¤©ç•Œé¢

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„è®¾è®¡

### 1. æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯å±•ç¤ºå±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Geminié£æ ¼    â”‚  â”‚   Vue3ç®¡ç†      â”‚  â”‚   ç§»åŠ¨ç«¯é€‚é…    â”‚   â”‚
â”‚  â”‚   èŠå¤©ç•Œé¢      â”‚  â”‚   åå°ç•Œé¢      â”‚  â”‚   å“åº”å¼è®¾è®¡    â”‚   â”‚
â”‚  â”‚  (React+TS)     â”‚  â”‚  (ä¿æŒç°æœ‰)     â”‚  â”‚  (PWAæ”¯æŒ)     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ HTTP/WebSocket/SSE
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        APIç½‘å…³å±‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   èŠå¤©API       â”‚  â”‚   çŸ¥è¯†åº“API     â”‚  â”‚   ç®¡ç†API      â”‚   â”‚
â”‚  â”‚  /api/v1/chat   â”‚  â”‚ /api/v1/knowledgeâ”‚  â”‚ /api/v1/admin  â”‚   â”‚
â”‚  â”‚  (SSEæµå¼)      â”‚  â”‚  (CRUD+æœç´¢)    â”‚  â”‚  (æƒé™ç®¡ç†)    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ FastAPIè·¯ç”±
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      AutoGenæ™ºèƒ½ä½“å±‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   ChatAgent     â”‚  â”‚ KnowledgeAgent  â”‚  â”‚   ToolAgent     â”‚   â”‚
â”‚  â”‚   å¯¹è¯ç®¡ç†      â”‚  â”‚   çŸ¥è¯†æ£€ç´¢      â”‚  â”‚   å·¥å…·è°ƒç”¨      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ MultimodalAgent â”‚  â”‚  MemoryAgent    â”‚  â”‚   MCPAgent      â”‚   â”‚
â”‚  â”‚   å¤šæ¨¡æ€å¤„ç†    â”‚  â”‚   è®°å¿†ç®¡ç†      â”‚  â”‚   MCPæœåŠ¡      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ æ™ºèƒ½ä½“åä½œ
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ¨¡å‹æœåŠ¡å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   DeepSeek      â”‚  â”‚   Qwen-VL       â”‚  â”‚   ModelScope    â”‚   â”‚
â”‚  â”‚   Chat LLM      â”‚  â”‚   Maxå¤šæ¨¡æ€     â”‚  â”‚   åµŒå…¥+é‡æ’     â”‚   â”‚
â”‚  â”‚  (å¯çƒ­åˆ‡æ¢)     â”‚  â”‚  (å¯çƒ­åˆ‡æ¢)     â”‚  â”‚  (æœ¬åœ°éƒ¨ç½²)     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ æ¨¡å‹è°ƒç”¨
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ä¸šåŠ¡æœåŠ¡å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   èŠå¤©æœåŠ¡      â”‚  â”‚   è®°å¿†æœåŠ¡      â”‚  â”‚   çŸ¥è¯†åº“æœåŠ¡    â”‚   â”‚
â”‚  â”‚  ChatService    â”‚  â”‚ MemoryService   â”‚  â”‚KnowledgeService â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   å·¥å…·æœåŠ¡      â”‚  â”‚   æ–‡æ¡£æœåŠ¡      â”‚  â”‚   ç”¨æˆ·æœåŠ¡      â”‚   â”‚
â”‚  â”‚  ToolService    â”‚  â”‚ DocumentService â”‚  â”‚  UserService    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ æ•°æ®è®¿é—®
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ•°æ®å­˜å‚¨å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   MySQL/SQLite  â”‚  â”‚     Milvus      â”‚  â”‚     Neo4j       â”‚   â”‚
â”‚  â”‚   å…³ç³»æ•°æ®      â”‚  â”‚   å‘é‡æ•°æ®      â”‚  â”‚   å›¾æ•°æ®       â”‚   â”‚
â”‚  â”‚  (ç”¨æˆ·/ä¼šè¯)    â”‚  â”‚  (æ–‡æ¡£/å¯¹è¯)    â”‚  â”‚  (çŸ¥è¯†å›¾è°±)    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚     Redis       â”‚  â”‚   æ–‡ä»¶å­˜å‚¨      â”‚  â”‚   æ—¥å¿—å­˜å‚¨      â”‚   â”‚
â”‚  â”‚   ç¼“å­˜/ä¼šè¯     â”‚  â”‚  (OSS/æœ¬åœ°)     â”‚  â”‚ (ELK/æœ¬åœ°)     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. æŠ€æœ¯æ ˆå‡çº§æ–¹æ¡ˆ

#### åç«¯æŠ€æœ¯æ ˆ (ä¿æŒ+å‡çº§)
```yaml
Webæ¡†æ¶: FastAPI 0.111.0 (ä¿æŒ)
æ™ºèƒ½ä½“æ¡†æ¶: AutoGen 0.4.9.3 (æ–°å¢)
ORMæ¡†æ¶: Tortoise ORM (ä¿æŒ)
å…³ç³»æ•°æ®åº“: SQLite â†’ MySQL (æ¸è¿›è¿ç§»)
å‘é‡æ•°æ®åº“: ChromaDB â†’ Milvus (å‡çº§)
å›¾æ•°æ®åº“: Neo4j (æ–°å¢)
æ–‡æ¡£è§£æ: Marker (æ–°å¢)
ç¼“å­˜ç³»ç»Ÿ: Redis (æ–°å¢)
æ¶ˆæ¯é˜Ÿåˆ—: Celery + Redis (æ–°å¢)
```

#### å‰ç«¯æŠ€æœ¯æ ˆ (åŒå‰ç«¯æ¶æ„)
```yaml
èŠå¤©ç•Œé¢: React 18 + TypeScript + Tailwind CSS (å‡çº§)
ç®¡ç†åå°: Vue3 + Naive UI (ä¿æŒç°æœ‰)
çŠ¶æ€ç®¡ç†: Zustand (React) + Pinia (Vue)
UIç»„ä»¶: è‡ªå®šä¹‰Geminié£æ ¼ç»„ä»¶
æ„å»ºå·¥å…·: Vite (ä¿æŒ)
åŒ…ç®¡ç†: pnpm (ä¿æŒ)
```

#### æ¨¡å‹æœåŠ¡ (å…¨æ–°é›†æˆ)
```yaml
å¤§è¯­è¨€æ¨¡å‹: DeepSeek-Chat (APIè°ƒç”¨)
å¤šæ¨¡æ€æ¨¡å‹: Qwen-VL-Max-Latest (APIè°ƒç”¨)
åµŒå…¥æ¨¡å‹: é€šä¹‰åƒé—®3-0.6B (ModelScopeæœ¬åœ°)
é‡æ’æ¨¡å‹: é€šä¹‰åƒé—®3-Reranker-0.6B (ModelScopeæœ¬åœ°)
```

## ğŸ“ å‡çº§åçš„é¡¹ç›®ç»“æ„

```
IntelligentCustomerService/
â”œâ”€â”€ backend/                          # åç«¯æœåŠ¡ (å‡çº§)
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ agents/                   # AutoGenæ™ºèƒ½ä½“ (æ–°å¢)
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ base_agent.py         # åŸºç¡€æ™ºèƒ½ä½“ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ chat_agent.py         # èŠå¤©æ™ºèƒ½ä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ knowledge_agent.py    # çŸ¥è¯†æ£€ç´¢æ™ºèƒ½ä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ tool_agent.py         # å·¥å…·è°ƒç”¨æ™ºèƒ½ä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ multimodal_agent.py   # å¤šæ¨¡æ€æ™ºèƒ½ä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ memory_agent.py       # è®°å¿†ç®¡ç†æ™ºèƒ½ä½“
â”‚   â”‚   â”‚   â””â”€â”€ mcp_agent.py          # MCPæœåŠ¡æ™ºèƒ½ä½“
â”‚   â”‚   â”œâ”€â”€ api/v1/                   # APIæ¥å£ (æ‰©å±•)
â”‚   â”‚   â”‚   â”œâ”€â”€ chat/                 # èŠå¤©ç›¸å…³API (å‡çº§)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chat.py           # èŠå¤©æ¥å£
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ session.py        # ä¼šè¯ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ stream.py         # æµå¼å“åº”
â”‚   â”‚   â”‚   â”œâ”€â”€ knowledge/            # çŸ¥è¯†åº“API (å‡çº§)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ knowledge.py      # çŸ¥è¯†åº“ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ document.py       # æ–‡æ¡£ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ search.py         # æœç´¢æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ models/               # æ¨¡å‹ç®¡ç†API (æ–°å¢)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ llm.py            # å¤§è¯­è¨€æ¨¡å‹
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ multimodal.py     # å¤šæ¨¡æ€æ¨¡å‹
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ embedding.py      # åµŒå…¥æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ tools/                # å·¥å…·API (æ–°å¢)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ tools.py          # å·¥å…·ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ mcp.py            # MCPæœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ admin/                # ç®¡ç†API (ä¿æŒ)
â”‚   â”‚   â”œâ”€â”€ core/                     # æ ¸å¿ƒåŠŸèƒ½ (å‡çº§)
â”‚   â”‚   â”‚   â”œâ”€â”€ autogen_config.py     # AutoGené…ç½® (æ–°å¢)
â”‚   â”‚   â”‚   â”œâ”€â”€ model_manager.py      # æ¨¡å‹ç®¡ç†å™¨ (å‡çº§)
â”‚   â”‚   â”‚   â”œâ”€â”€ vector_store.py       # å‘é‡å­˜å‚¨ (å‡çº§åˆ°Milvus)
â”‚   â”‚   â”‚   â”œâ”€â”€ graph_store.py        # å›¾æ•°æ®åº“ (æ–°å¢)
â”‚   â”‚   â”‚   â”œâ”€â”€ cache_manager.py      # ç¼“å­˜ç®¡ç† (æ–°å¢)
â”‚   â”‚   â”‚   â””â”€â”€ task_queue.py         # ä»»åŠ¡é˜Ÿåˆ— (æ–°å¢)
â”‚   â”‚   â”œâ”€â”€ services/                 # ä¸šåŠ¡æœåŠ¡ (å‡çº§)
â”‚   â”‚   â”‚   â”œâ”€â”€ chat_service.py       # èŠå¤©æœåŠ¡ (å‡çº§)
â”‚   â”‚   â”‚   â”œâ”€â”€ memory_service.py     # è®°å¿†æœåŠ¡ (å‡çº§)
â”‚   â”‚   â”‚   â”œâ”€â”€ knowledge_service.py  # çŸ¥è¯†åº“æœåŠ¡ (å‡çº§)
â”‚   â”‚   â”‚   â”œâ”€â”€ tool_service.py       # å·¥å…·æœåŠ¡ (æ–°å¢)
â”‚   â”‚   â”‚   â”œâ”€â”€ mcp_service.py        # MCPæœåŠ¡ (æ–°å¢)
â”‚   â”‚   â”‚   â”œâ”€â”€ document_service.py   # æ–‡æ¡£æœåŠ¡ (å‡çº§)
â”‚   â”‚   â”‚   â””â”€â”€ multimodal_service.py # å¤šæ¨¡æ€æœåŠ¡ (æ–°å¢)
â”‚   â”‚   â”œâ”€â”€ models/                   # æ•°æ®æ¨¡å‹ (æ‰©å±•)
â”‚   â”‚   â”œâ”€â”€ schemas/                  # æ•°æ®æ¨¡å¼ (æ‰©å±•)
â”‚   â”‚   â”œâ”€â”€ utils/                    # å·¥å…·ç±» (æ‰©å±•)
â”‚   â”‚   â”‚   â”œâ”€â”€ marker_parser.py      # Markerè§£æå™¨ (æ–°å¢)
â”‚   â”‚   â”‚   â”œâ”€â”€ milvus_client.py      # Milvuså®¢æˆ·ç«¯ (æ–°å¢)
â”‚   â”‚   â”‚   â””â”€â”€ neo4j_client.py       # Neo4jå®¢æˆ·ç«¯ (æ–°å¢)
â”‚   â”‚   â””â”€â”€ settings/                 # é…ç½®è®¾ç½® (ä¿æŒ)
â”‚   â”œâ”€â”€ tools/                        # è‡ªå®šä¹‰å·¥å…· (æ–°å¢)
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ ecommerce_tools.py        # ç”µå•†å·¥å…·
â”‚   â”‚   â”œâ”€â”€ search_tools.py           # æœç´¢å·¥å…·
â”‚   â”‚   â””â”€â”€ file_tools.py             # æ–‡ä»¶å·¥å…·
â”‚   â”œâ”€â”€ mcp/                          # MCPæœåŠ¡å®ç° (æ–°å¢)
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ server.py                 # MCPæœåŠ¡å™¨
â”‚   â”‚   â””â”€â”€ handlers/                 # MCPå¤„ç†å™¨
â”‚   â””â”€â”€ requirements.txt              # ä¾èµ–ç®¡ç† (å‡çº§)
â”œâ”€â”€ frontend/                         # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ chat-ui/                      # Geminié£æ ¼èŠå¤©ç•Œé¢ (æ–°å¢)
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/           # ç»„ä»¶åº“
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Chat/             # èŠå¤©ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ChatContainer.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MessageList.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MessageItem.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ InputArea.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ TypingIndicator.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar/          # ä¾§è¾¹æ ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ConversationList.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ KnowledgePanel.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ SettingsPanel.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UI/               # åŸºç¡€UIç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Input.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Modal.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Loading.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Layout/           # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ MainContent.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/                # è‡ªå®šä¹‰Hook
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useChat.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useSSE.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useKnowledge.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ useTheme.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ services/             # APIæœåŠ¡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chatApi.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ knowledgeApi.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ authApi.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ store/                # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chatStore.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ userStore.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ settingsStore.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ styles/               # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ globals.css
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ gemini.css
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ components.css
â”‚   â”‚   â”‚   â”œâ”€â”€ types/                # ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chat.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ user.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ api.ts
â”‚   â”‚   â”‚   â””â”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚       â”œâ”€â”€ formatters.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ validators.ts
â”‚   â”‚   â”‚       â””â”€â”€ constants.ts
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â”‚   â”œâ”€â”€ vite.config.ts
â”‚   â”‚   â””â”€â”€ tsconfig.json
â”‚   â””â”€â”€ admin-ui/                     # ç®¡ç†åå° (ä¿æŒç°æœ‰Vue3)
â”‚       â””â”€â”€ (ä¿æŒç°æœ‰webç›®å½•ç»“æ„)
â”œâ”€â”€ databases/                        # æ•°æ®åº“ç›¸å…³ (æ–°å¢)
â”‚   â”œâ”€â”€ migrations/                   # æ•°æ®åº“è¿ç§»
â”‚   â”‚   â”œâ”€â”€ mysql/                    # MySQLè¿ç§»è„šæœ¬
â”‚   â”‚   â””â”€â”€ milvus/                   # Milvusé›†åˆå®šä¹‰
â”‚   â”œâ”€â”€ seeds/                        # åˆå§‹æ•°æ®
â”‚   â”‚   â”œâ”€â”€ users.sql
â”‚   â”‚   â”œâ”€â”€ knowledge.json
â”‚   â”‚   â””â”€â”€ vectors.json
â”‚   â””â”€â”€ configs/                      # æ•°æ®åº“é…ç½®
â”‚       â”œâ”€â”€ mysql.conf
â”‚       â”œâ”€â”€ milvus.yaml
â”‚       â””â”€â”€ neo4j.conf
â”œâ”€â”€ docs/                             # æ–‡æ¡£ (æ‰©å±•)
â”‚   â”œâ”€â”€ architecture.md               # æ¶æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ api.md                        # APIæ–‡æ¡£
â”‚   â”œâ”€â”€ deployment.md                 # éƒ¨ç½²æ–‡æ¡£
â”‚   â””â”€â”€ user-guide.md                 # ç”¨æˆ·æŒ‡å—
â”œâ”€â”€ docker/                           # Dockeré…ç½® (æ‰©å±•)
â”‚   â”œâ”€â”€ docker-compose.yml            # å®Œæ•´æœåŠ¡ç¼–æ’
â”‚   â”œâ”€â”€ backend.Dockerfile            # åç«¯é•œåƒ
â”‚   â”œâ”€â”€ frontend.Dockerfile           # å‰ç«¯é•œåƒ
â”‚   â””â”€â”€ nginx.conf                    # Nginxé…ç½®
â”œâ”€â”€ scripts/                          # è„šæœ¬å·¥å…· (æ–°å¢)
â”‚   â”œâ”€â”€ setup.sh                      # ç¯å¢ƒæ­å»º
â”‚   â”œâ”€â”€ migrate.py                    # æ•°æ®è¿ç§»
â”‚   â”œâ”€â”€ deploy.sh                     # éƒ¨ç½²è„šæœ¬
â”‚   â””â”€â”€ backup.py                     # å¤‡ä»½è„šæœ¬
â””â”€â”€ tests/                            # æµ‹è¯• (æ–°å¢)
    â”œâ”€â”€ unit/                         # å•å…ƒæµ‹è¯•
    â”œâ”€â”€ integration/                  # é›†æˆæµ‹è¯•
    â””â”€â”€ e2e/                          # ç«¯åˆ°ç«¯æµ‹è¯•
```

## ğŸ”§ æ ¸å¿ƒç»„ä»¶è®¾è®¡

### 1. AutoGenæ™ºèƒ½ä½“åä½œæ¶æ„

```python
# æ™ºèƒ½ä½“åä½œæµç¨‹
ç”¨æˆ·è¾“å…¥ â†’ ChatAgent â†’ KnowledgeAgent â†’ ToolAgent â†’ MultimodalAgent â†’ å“åº”è¾“å‡º
    â†“           â†“            â†“            â†“              â†“
  å¯¹è¯ç®¡ç†   çŸ¥è¯†æ£€ç´¢      å·¥å…·è°ƒç”¨      å¤šæ¨¡æ€å¤„ç†      è®°å¿†æ›´æ–°
    â†“           â†“            â†“            â†“              â†“
  ä¼šè¯çŠ¶æ€   å‘é‡æœç´¢      MCPæœåŠ¡      å›¾åƒç†è§£       å†å²å­˜å‚¨
```

### 2. æ¨¡å‹æœåŠ¡ç®¡ç†æ¶æ„

```python
# æ¨¡å‹ç®¡ç†å™¨è®¾è®¡
ModelManager
â”œâ”€â”€ LLMService (DeepSeek-Chat)
â”‚   â”œâ”€â”€ æ¨¡å‹é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ APIè°ƒç”¨å°è£…
â”‚   â”œâ”€â”€ æµå¼å“åº”å¤„ç†
â”‚   â””â”€â”€ é”™è¯¯é‡è¯•æœºåˆ¶
â”œâ”€â”€ MultimodalService (Qwen-VL-Max)
â”‚   â”œâ”€â”€ å›¾åƒç†è§£
â”‚   â”œâ”€â”€ è§†é¢‘åˆ†æ
â”‚   â”œâ”€â”€ å¤šæ¨¡æ€å¯¹è¯
â”‚   â””â”€â”€ æ ¼å¼è½¬æ¢
â”œâ”€â”€ EmbeddingService (Qwen3-0.6B)
â”‚   â”œâ”€â”€ æ–‡æœ¬å‘é‡åŒ–
â”‚   â”œâ”€â”€ æ‰¹é‡å¤„ç†
â”‚   â”œâ”€â”€ ç¼“å­˜ä¼˜åŒ–
â”‚   â””â”€â”€ æ¨¡å‹çƒ­åŠ è½½
â””â”€â”€ RerankService (Qwen3-Reranker)
    â”œâ”€â”€ ç»“æœé‡æ’
    â”œâ”€â”€ ç›¸å…³æ€§è¯„åˆ†
    â”œâ”€â”€ å¤šè·¯å¬å›
    â””â”€â”€ æ€§èƒ½ä¼˜åŒ–
```

### 3. æ•°æ®å­˜å‚¨æ¶æ„

```python
# å¤šæ•°æ®åº“ååŒè®¾è®¡
æ•°æ®å­˜å‚¨å±‚
â”œâ”€â”€ MySQL/SQLite (å…³ç³»æ•°æ®)
â”‚   â”œâ”€â”€ ç”¨æˆ·ç®¡ç† (users, roles, permissions)
â”‚   â”œâ”€â”€ ä¼šè¯ç®¡ç† (conversations, messages)
â”‚   â”œâ”€â”€ ç³»ç»Ÿé…ç½® (settings, configs)
â”‚   â””â”€â”€ å®¡è®¡æ—¥å¿— (audit_logs, operations)
â”œâ”€â”€ Milvus (å‘é‡æ•°æ®)
â”‚   â”œâ”€â”€ æ–‡æ¡£å‘é‡ (document_vectors)
â”‚   â”œâ”€â”€ å¯¹è¯å‘é‡ (conversation_vectors)
â”‚   â”œâ”€â”€ çŸ¥è¯†å‘é‡ (knowledge_vectors)
â”‚   â””â”€â”€ æ··åˆç´¢å¼• (hybrid_search_index)
â”œâ”€â”€ Neo4j (å›¾æ•°æ®)
â”‚   â”œâ”€â”€ çŸ¥è¯†å›¾è°± (entities, relationships)
â”‚   â”œâ”€â”€ ç”¨æˆ·å…³ç³» (user_connections)
â”‚   â”œâ”€â”€ å¯¹è¯è·¯å¾„ (conversation_paths)
â”‚   â””â”€â”€ æ¨ç†é“¾æ¡ (reasoning_chains)
â””â”€â”€ Redis (ç¼“å­˜æ•°æ®)
    â”œâ”€â”€ ä¼šè¯ç¼“å­˜ (session_cache)
    â”œâ”€â”€ æ¨¡å‹ç¼“å­˜ (model_cache)
    â”œâ”€â”€ æœç´¢ç¼“å­˜ (search_cache)
    â””â”€â”€ ä»»åŠ¡é˜Ÿåˆ— (task_queue)
```

è¿™ä¸ªå®Œæ•´çš„æ¶æ„è®¾è®¡æ–¹æ¡ˆåœ¨ä¿æŒç°æœ‰é¡¹ç›®ä¼˜åŠ¿çš„åŸºç¡€ä¸Šï¼Œå…¨é¢å‡çº§äº†æ ¸å¿ƒæŠ€æœ¯æ ˆï¼Œä¸ºåç»­çš„è¯¦ç»†å®æ–½æä¾›äº†æ¸…æ™°çš„æŠ€æœ¯è·¯çº¿å›¾ã€‚
